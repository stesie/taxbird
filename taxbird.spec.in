# libgeier spec file, used to drive rpmbuild.
# Spec File Version $Id: taxbird.spec.in,v 1.5 2005-07-29 16:04:24 stesie Exp $

#
# Define vendor and version
#
%if "%{_vendor}" == "suse" || "%{_vendor}" == "pc"
%define VENDOR SuSE
%define VENDOR_VERS %{suse_version}
%else
%define VENDOR %{_vendor}
%define VENDOR_VERS
%define suse_version 0
%endif

Summary:	@PACKAGE@ - GUI zur Erfassung und Abgabe von Steuererklärungen
Name:           @PACKAGE@
Version:        @VERSION@
Release:	1.%{VENDOR}%{VENDOR_VERS}
Distribution:	%{VENDOR} %{VENDOR_VERS}
URL:		http://www.taxbird.de/
Source0:	%{name}-%{version}.tar.gz
License:	GPL
Group:		Applications/Finance
Vendor:		Stefan Siegl <stesie@brokenpipe.de>
Packager:	Stefan Siegl <stesie@brokenpipe.de>
BuildRoot:	%{_tmppath}/%{name}-%(id -un)

#
# Include dependencies manually
#
##AutoReq: 0

BuildRequires: openssl-devel >= 0.9.6
BuildRequires: libgnomeui-devel libgtkhtml-devel
BuildRequires: libgeier
BuildRequires: guile
BuildRequires: glade >= 2.0.0
Requires:      openssl       >= 0.9.6
Requires:      libgnomeui libgtkhtml
Requires:      libgeier >= 0.3
Requires:      guile

#
# Description
#
%description
taxbird meint nicht nur das Projekt zur Entwicklung eines freien
Elster-Clients, sondern es handelt sich vielmehr auch um den Namen einer
auf Gnome-2 basierenden Applikation zur Erfassung von Steuerdaten
(gegenwärtig nur Umsatzsteuervoranmeldungen für das Kalenderjahr 2005)
und Weitergabe an die libgeier. Mithin ist die Anwendung relativ ähnlich
der proprietären Anwendung ElsterFormular, abgesehen davon, dass das
Formular nicht grafisch dar- sondern nur nachgestellt wird.
Diese Software ist zur Zeit im ALPHA Stadium!

#
# Prepare to build
#
%prep
%setup -q


#
# configure & build section
#
%build

# configure libgeier
%configure

# compile libgeier
%__make

#
# Installation section
#
%install
[ %{buildroot} != "/" ] && rm -rf %{buildroot}

%__make install-strip DESTDIR=%{buildroot}

#
# Copy documentation files
#
mkdir -p %{buildroot}/%{_prefix}/share/doc/packages/@PACKAGE@/
for A in AUTHORS ChangeLog COPYING COPYING.OpenSSL_exception NEWS README \
	README.OpenSSL README.vendor-id THANKS; do 
	test -e $A && /usr/bin/install -c -m 644 $A \
		 %{buildroot}/%{_prefix}/share/doc/packages/@PACKAGE@/ 
done

#
# Clean section
#
%clean
[ %{buildroot} != "/" ] && rm -rf %{buildroot}

#
# Post install section
#
%post

#
# Pre uninstall section
#
%preun

#
# Post uninstall section
#
%postun


#
# Files section
#
%files
%defattr(-,root,root)
%{_bindir}/*
%{_datadir}/%{name}/*
%{_prefix}/share/locale/*/LC_MESSAGES/@PACKAGE@.mo
%{_prefix}/share/doc/packages/@PACKAGE@/*

%changelog
* Tue Jun 21 2005 Stefan Siegl <stesie@brokenpipe.de> - 0.1
- Please consult log entries of the CVS repository at cvs.g-n-u.de/cvsroot
